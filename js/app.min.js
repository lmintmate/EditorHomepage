"use strict";var defaultEditor="gnuemacs",defaultEngine="duckduckgo",defaultLanguage="en",editor=Cookies.get("editor")?Cookies.get("editor"):defaultEditor,engine=Cookies.get("engine")?Cookies.get("engine"):defaultEngine,language=Cookies.get("language")?Cookies.get("language"):defaultLanguage,languages=[];function loadJSON(e,t){var n=new XMLHttpRequest;n.open("GET","data/"+e,!0),n.onload=function(){200<=this.status&&this.status<400?t(JSON.parse(this.response)):alert("Unable to download json data...")},n.onerror=function(){alert("Unable to download json data...")},n.send()}function createLinks(n){var o=document.querySelectorAll(".link"),a=n.hasOwnProperty(editor)?editor:defaultEditor;Object.keys(n[a]).forEach(function(e,t){o[t].setAttribute("href",n[a][e]),o[t].textContent=e})}function changeEditor(e){var t=document.getElementById("logo");if(editor!==t.className){t.style.backgroundImage="url('img/"+editor+"-logo.png')",t.className=editor,document.getElementById("search").style.backgroundColor="#"+e[editor].main_color;for(var n=document.querySelectorAll("#navbar a"),o=0;o<n.length;o++)n[o].style.color="#"+e[editor].main_color;document.querySelector(".website").setAttribute("href",e[editor].website),document.querySelector(".doc").setAttribute("href",e[editor].doc),Cookies.set("editor",editor,{expires:365,path:"/"})}}function changeEngine(e){var t=document.getElementById("engine");engine!==t.className&&(document.getElementById("form-search").setAttribute("action",e[engine].url),document.querySelector("input[type='search']").setAttribute("name",e[engine].parameter),t.className=engine,t.style.backgroundColor="#"+e[engine].colors.circle,t.style.color="#"+e[engine].colors.font,t.textContent=engine.charAt(0).toUpperCase(),Cookies.set("engine",engine,{expires:365,path:"/"}))}function changeLanguage(t){for(var n=[],e=0;e<languages.length;e++)n[languages[e]]=["option[value="+languages[e]+"]","textContent"];n.placeholder=["#input-search input","placeholder"],n.doc=["#doc-text","textContent"],n.website=["#website-text","textContent"],n.about=["#about-text","textContent"],n.author=["#author-text","textContent"],n.description=["#description-text","textContent"],n.license=["#license-text","textContent"],n.github=["#github-text","textContent"],n.thanks=["#thanks-text","textContent"],n.contributors=["#contributors-text","textContent"],n.close=["#close-text","textContent"],Object.keys(n).forEach(function(e){document.querySelector(n[e][0])[n[e][1]]=t[language][e]}),Cookies.set("language",language,{expires:365,path:"/"})}function fillSelect(e){var n=document.querySelector("#"+e[0]);e[1].forEach(function(e){var t=document.createElement("option");t.value=e.toLowerCase().replace(" ",""),t.textContent=e,n.appendChild(t)});var t=e[0].substr(0,e[0].length-1);n.value=window[t]}function initEditors(t){var n=[];Object.keys(t).forEach(function(e){n.push(t[e].name)}),fillSelect(["editors",n]),changeEditor(t)}function initEngines(t){var n=[];Object.keys(t).forEach(function(e){n.push(t[e].name)}),fillSelect(["engines",n]),changeEngine(t)}function initLanguages(e){languages=[],Object.keys(e).forEach(function(e){languages.push(e)}),fillSelect(["languages",languages]),changeLanguage(e)}loadJSON("links.min.json",createLinks),loadJSON("editors.min.json",initEditors),loadJSON("engines.min.json",initEngines),loadJSON("translations.min.json",initLanguages),document.getElementById("editors").onchange=function(){editor=this.value,loadJSON("editors.min.json",changeEditor),loadJSON("links.min.json",createLinks)},document.getElementById("engines").onchange=function(){engine=this.value,loadJSON("engines.min.json",changeEngine)},document.getElementById("languages").onchange=function(){language=this.value,loadJSON("translations.min.json",changeLanguage)};
